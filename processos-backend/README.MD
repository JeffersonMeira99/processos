# ğŸ“‘ Processo API

API REST para gerenciamento de processos jurÃ­dicos e usuÃ¡rios, desenvolvida com **Node.js**, **Express**, **TypeScript** e **TypeORM**, utilizando **MySQL** como banco de dados e autenticaÃ§Ã£o com **JWT**.

---

## ğŸš€ Tecnologias Utilizadas

- Node.js
- Express
- TypeScript
- TypeORM
- MySQL
- JWT (AutenticaÃ§Ã£o)
- Docker e Docker Compose

---

## ğŸ“¦ Como executar o projeto

### âœ… PrÃ©-requisitos

- [Node.js](https://nodejs.org/)
- [Docker](https://www.docker.com/) e [Docker Compose](https://docs.docker.com/compose/)

---

### ğŸ”§ ConfiguraÃ§Ã£o do ambiente

1. **Clone o repositÃ³rio**

\`\`\`bash
git clone https://github.com/seu-usuario/seu-repo.git
cd seu-repo
\`\`\`

2. **Crie um arquivo `.env` (opcional)**

JÃ¡ existem variÃ¡veis de ambiente definidas no cÃ³digo, mas vocÃª pode criar um arquivo `.env` para sobrescrevÃª-las se desejar.

Exemplo de `.env`:

\`\`\`env

# JWT

JWT_SECRET="eyJhbGciOiJIUzI1NiJ9.e30.ZRrHA1JJJW8opsbCGfG_HACGpVUMN_a9IV7pAx_Zmeo"
JWT_EXPIRATION_TIME="21600"

# MySQL (usando o nome do serviÃ§o do container como host)

MYSQL_HOST="127.0.0.1"
MYSQL_PORT="3307"
MYSQL_USER="bd-user-processo"
MYSQL_PASSWORD="processo1234"
MYSQL_DATABASE="bd_processo"

PORT="3003"
\`\`\`

---

### ğŸ³ Rodando com Docker

Execute o comando:

\`\`\`bash
docker-compose up --build
\`\`\`

A API estarÃ¡ rodando em: [http://localhost:3000](http://localhost:3000)

O banco de dados MySQL estarÃ¡ rodando na porta \`3307\`.

---

### ğŸ’» Rodando localmente

1. Instale as dependÃªncias:

\`\`\`bash
npm install

# Importante: Antes de rodar a aplicaÃ§Ã£o, execute obrigatoriamente o comando abaixo para gerar a pasta dist, que Ã© onde ficarÃ¡ o cÃ³digo compilado do TypeScript:

npm run build

\`\`\`

2. Configure seu banco MySQL local com as credenciais:

\`\`\`bash
MYSQL_USER=bd-user-processo
MYSQL_PASSWORD=processo1234
MYSQL_DATABASE=bd_processo
MYSQL_PORT=3307
\`\`\`

3. Rode a aplicaÃ§Ã£o:

- Para desenvolvimento:

\`\`\`bash
npm run build
npm run dev
\`\`\`

---

## ğŸ“š DocumentaÃ§Ã£o da API

### ğŸ”‘ AutenticaÃ§Ã£o

| MÃ©todo | Endpoint      | DescriÃ§Ã£o           |
| ------ | ------------- | ------------------- |
| POST   | \`/login\`    | Login com JWT       |
| POST   | \`/register\` | Registro de usuÃ¡rio |

---

ğŸ”’ **Requer autenticaÃ§Ã£o JWT**

---

### ğŸ“„ Processos

| MÃ©todo | Endpoint           | DescriÃ§Ã£o                      |
| ------ | ------------------ | ------------------------------ |
| GET    | \`/processos\`     | Lista todos os processos       |
| POST   | \`/processos\`     | Cria um novo processo          |
| GET    | \`/processos/:id\` | Busca processo por ID          |
| PUT    | \`/processos/:id\` | Atualiza um processo existente |
| DELETE | \`/processos/:id\` | Remove um processo             |

### ğŸ‘¤ UsuÃ¡rios

| MÃ©todo | Endpoint       | DescriÃ§Ã£o               |
| ------ | -------------- | ----------------------- |
| GET    | \`/users\`     | Lista todos os usuÃ¡rios |
| GET    | \`/users/:id\` | Busca usuÃ¡rio por ID    |

ğŸ”’ **Requer autenticaÃ§Ã£o JWT**

---

## ğŸ—„ï¸ Banco de Dados

### ğŸ”— Tabelas principais

- \`users\` â€” UsuÃ¡rios do sistema.
- \`process\` â€” Processos jurÃ­dicos vinculados a usuÃ¡rios.

---

## ğŸ” AutenticaÃ§Ã£o

- JWT baseado em Bearer Token.
- Enviar o token no header:

\`\`\`

Como utilizar o token:

Realize o login na rota /login com seu e-mail e senha cadastrados.

A resposta trarÃ¡ um token no formato:

{
"access_token": "seu_token_aqui"
}

![Login Token](docs/images/loginToken.png)

Utilize esse token no header das requisiÃ§Ãµes que exigem autenticaÃ§Ã£o:

Authorization: Bearer seu_token_aqui

Exemplo de como inserir o token no campo Authorization:

![Bearer Token](docs/images/bearerToken.png)

# Importante: O campo Bearer Token estiver vazio, adicione o token que foi gerado no campo access_token da resposta do login.

\`\`\`

---

## ğŸ Scripts disponÃ­veis

| Comando           | DescriÃ§Ã£o                      |
| ----------------- | ------------------------------ |
| \`npm run dev\`   | Inicia em modo desenvolvimento |
| \`npm run build\` | Compila o TypeScript           |
| \`npm start\`     | Executa o projeto compilado    |

---

## ğŸ³ Docker Compose

| ServiÃ§o | DescriÃ§Ã£o                       | Porta     |
| ------- | ------------------------------- | --------- |
| app     | API Express com TypeScript      | 3000:3000 |
| mysql   | Banco de dados MySQL (processo) | 3307:3306 |

---

## ğŸ“‚ Pasta docs

Dentro da pasta docs vocÃª encontrarÃ¡ uma collection do Postman (Process.postman_collection.json) que permite testar todos os endpoints da API de forma prÃ¡tica e rÃ¡pida.

Basta importar o arquivo no Postman e comeÃ§ar os testes.

Imagens ilustrativas que mostram:

O funcionamento da API.

Exemplos de requisiÃ§Ãµes e respostas.

Estrutura dos endpoints.

---

## ğŸ‘¨â€ğŸ’» Autor

Jefferson Meira  
ğŸ’¼ Desenvolvedor Full Stack
